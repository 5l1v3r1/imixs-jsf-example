<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/layout/template.xhtml">

	<ui:define name="content">
	
		<f:view>


			<h:form>
			<h1>#{global.worklist}</h1>
					
					<h:dataTable class="imixsdatatable" 
					value="#{worklistController.workitems}" var="workitem">

						<h:column>
							<f:facet name="header">
								<h:outputText value="#{global.creator}" />
							</f:facet>
							<h:outputText value="#{workitem.item['namcreator']}" />
						</h:column>

						<h:column>
							<f:facet name="header">
								<h:outputText value="#{global.subject}" />
							</f:facet>
							
							<h:commandLink
								action="#{workflowController.load(workitem.item['$uniqueid'],'workitem')}">
								<h:outputText value="#{workitem.item['txtSubject']}" />
							</h:commandLink>
							
							
						</h:column>

						<h:column>
							<f:facet name="header">
								<h:outputText value="#{global.created}" />
							</f:facet>
							<h:outputText value="#{workitem.item['$created']}">
								<f:convertDateTime timeZone="CET" type="date" dateStyle="medium" />
							</h:outputText>
						</h:column>


						<h:column>
							<f:facet name="header">
								<h:outputText value="#{global.status}" />
							</f:facet>
							<h:outputText value="#{workitem.item['txtworkflowstatus']}" />
						</h:column>


						

						<h:column>
							<h:commandLink value="#{global.delete}"
								action="#{workflowController.delete(workitem.item['$uniqueid'],'worklist')}"
								rendered="#{workitem.item['$isAuthor']}" >
							</h:commandLink>
						</h:column>
						
						
						
						<h:column>
							<f:facet name="header">
								<h:outputText value="Model" />
							</f:facet>
							<h:outputText value="#{workitem.item['$modelversion']}" />
						</h:column>

					</h:dataTable>
			

				<h:commandButton actionListener="#{worklistController.doLoadPrev}"
					 disabled="#{!(worklistController.row>0)}"
					value="&lt;&lt; #{global.prev}">
				</h:commandButton>
				<h:commandButton actionListener="#{worklistController.doLoadNext}"
					 disabled="#{worklistController.endOfList}"
					value="#{global.next} &gt;&gt;">
				</h:commandButton>




			</h:form>
		</f:view>
	</ui:define>
</ui:composition>
